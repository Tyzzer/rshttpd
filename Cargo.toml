[package]
name = "webdir"
version = "0.1.0"
authors = ["quininer kel <quininer@live.com>"]
license = "MIT"
repository = "https://github.com/Tyzzer/webdir"
homepage = "https://github.com/Tyzzer/webdir"
readme = "README.md"
description = "A simple asynchronous static file server"
build = "build.rs"

[[bin]]
name = "webdir"
path = "src/bin/webdir.rs"
doc = false

[features]
sendfile = [ "nix", "mio" ]
sysalloc = []

[target.'cfg(unix)'.dependencies]
xdg = "2.1"

[dependencies]
toml = "0.4"
serde = "1.0"
serde_derive = "1.0"
structopt = "0.1"
structopt-derive = "0.1"
error-chain = "0.11.0"

bytes = "0.4"
futures = "0.1"
futures-cpupool = "0.1"
mio = { version = "0.6", optional = true }
tokio = { git = "https://github.com/tokio-rs/tokio", branch = "new-crate" }
tokio-io = "0.1"
hyper = "0.11"

rustls = "0.12"
tokio-rustls = "0.5"

percent-encoding = "1.0"
chrono = "0.4"
unbytify = "0.1"
humanesort = "0.1.0-alpha"
base64 = "0.9"
siphasher = "0.2"
smallvec = "0.6"
mime = "0.3"
mime_guess = "2.0.0-alpha"
maud = "0.17"

slog = "2.0"
slog-async = "2.0"
slog-term = "2.0"

nix = { version = "0.9", optional = true }

[dev-dependencies]
tempdir = "0.3"
